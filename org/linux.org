#+title: Linux Tricks
#+author: Tony Aldon

* Links
  [[https://github.com/jlevy/the-art-of-command-line][github: the art of command lines]]
  [[https://fr.wikipedia.org/wiki/POSIX][wikipedia: POSIX]]
  [[http://docopt.org/][docopt: cli description language]]
  [[https://link.springer.com/content/pdf/bbm\%3A978-1-4302-0137-3\%2F1.pdf][spinger: glossary of linux terms]]
  [[https://devhints.io/bash][devhints.io: bash scripting]]
* Info
  A command is either an executable program, a shell builtins, a shell
  function, or an alias. Also see, directory /usr/share/doc.

  type, which, help, man, apropos, whatis, wich, whereis
* Packages management
** linux packages
*** List available linux packages related to a regexp
		- Problem :: How can I list linux package related to a regexp?
		- Use ~apt-cache search~ command.
		- search performs a full text search on all available package lists for
           the POSIX regex pattern given
		- If you want to search linux packages related to emacs, run the
      command: 
			#+BEGIN_SRC bash
			apt-cache search emacs
      #+END_SRC
*** Show linux package information
		- Problem :: How can I show linux package information?
		- Use ~apt-cache show~ command.
		- Display the package records for the named packages.
		- If you want to show the information of the installed ~emacs~
      emacs package, run the command:
			#+BEGIN_SRC bash
			apt-cache show emacs
      #+END_SRC
*** Update list of available linux packages
		- Problem :: How can I update the list of available linux packages?
		- Use ~apt-get update~ command.
		- This command is used to resynchronize the package index files from
      their sources.
*** Install newest version of all packages
		- Problem :: How can I install newest version of all my packages?
		- Use ~apt-get upgrade~ command.
		- This command installs the newest versions of all packages
      currently installed on the system from the sources enumerated in
      /etc/apt/sources.list.
*** Install a new linux package
		- Problem :: How can I install a new linux package?
		- Use ~apt-get install~ command.
		- Install new one or more linux packages.
		- If you want to install ~emacs~, run the command:
			#+BEGIN_SRC bash
			apt-get install emacs
      #+END_SRC
*** Remove a linux package
		- Problem :: How can I remove a linux package?
		- Use ~apt-get remove~ command.
		- Remove linux packages. Note that removing a package leaves its
      configuration files on the system. 
		- If you want to remove ~emacs~, run the command:
			#+BEGIN_SRC bash
			apt-get remove emacs
      #+END_SRC
** other packages
*** Managne ~nodejs~ packages
		npm
*** Manage ~python~ packages
		pip
* Environment variables
  ifconfig,
  whoami
* Users and groups
*** Run interactive shell as root
		- Problem :: How can I switch to root User?
		- Use ~su~ command.
		- Change user ID or become superuser.
		- See examples [[https://linuxize.com/post/su-command-in-linux/][su command]].
		- If you want to run an interactive shell as root, when root's
      password is already defined, run the command:
			#+BEGIN_SRC bash
			su
      #+END_SRC
		- If you want to run an interactive shell as root, when root's
      password is not defined, run the command:
			#+BEGIN_SRC bash
			sudo su -
			#+END_SRC
*** Enable root user account
		- Problem :: How can I enable root user account?
		- Use ~passwd~ command.
		- Change user password.
		- See examples [[https://linuxize.com/post/how-to-enable-and-disable-root-user-account-in-ubuntu/][root user account]].
		- If you want to enable the root user account and you have the
      sudo privileges, run the command:
			#+BEGIN_SRC bash
			sudo passwd root
      #+END_SRC
		- If you want to disable the root user account and you have the
      sudo privileges, run the command:
			#+BEGIN_SRC bash
			sudo passwd -l root
      #+END_SRC
*** to sort
  adduser, deluser, passwd
  addgroup, delgroup, usermod
  chown, chgrp
* Process and system
  lscpu, hostnamectl, top, ps
* Files
** View
   du, file, ls, cat, more, less, head, tail
** Links
   ln, stow, alias, unalias
** Compression/backup
   tar, zip, unzip, unrar, rsync, zcat, zmore, zless
** search
   locate, find, grep
*** find files
   - Problem :: How to find files that match string or regexp?
   - Use the command ~find~.
   - Search for files in a directory hierarchy.
	 - See examples [[https://alvinalexander.com/unix/edu/examples/find.shtml][example of command find]].
   - If you want to find files recursively from your ~$HOME~
     directory where the ~name~ match the global patern ~virtualenv*~,
     run the command:
     #+BEGIN_SRC bash
     find ~/ -name "virtualenv*"
     #+END_SRC
** Replace
*** replace string in multiple files
   - Problem :: How to replace string in multiple files?
   - Use commands ~sed~, ~perl~ and ~find~.
	 - Stream editor for filtering and transforming text (~sed~).
   - See examples here [[https://unix.stackexchange.com/questions/112023/how-can-i-replace-a-string-in-a-files][stackoverflow: replace string]].
	 - If you want to replace all occurrences of one string with another
     in all files in the current directory (Non recursive, files in
     this directory only.), run the command:
		 #+BEGIN_SRC bash
     sed -i -- 's/foo/bar/g' *
		 #+END_SRC
	 - If you want to replace all occurrences of one string with another
     in all files in the current directory (Recursive, regular files
     (including hidden ones) in this and all subdirectories), run the
     command:
		 #+BEGIN_SRC bash
		 find . -type f -exec sed -i 's/foo/bar/g' {} +
		 #+END_SRC
	 - If you want to replace only if the file name matches another
     string / has a specific extension / is of a certain type etc
     (Non-recursive, files in this directory only), run the command:
		 #+BEGIN_SRC bash
     sed -i -- 's/foo/bar/g' *baz*    # all files whose name contains baz
		 #+END_SRC
		- If you want to replace only if the file name matches another
     string / has a specific extension / is of a certain type etc
     (Non-recursive, files in this directory only), run the command:
		 #+BEGIN_SRC bash
		 find . -type f -name "*baz*" -exec sed -i 's/foo/bar/g' {} +
		 # all files whose name contains baz
		 #+END_SRC
** directories
   mkdir, cd, tree
* Network
  ssh, openssh-server, curl, wget, ping, ftp
* Devices
  lsblk, mount, umount

  [[https://askubuntu.com/questions/37767/how-to-access-a-usb-flash-drive-from-the-terminal][usb flash drive: commnand line]]
  #+BEGIN_SRC bash
  lsblk  # find what the drive is called
  sudo mount /dev/sdb1 /mnt/  # if drive called sdb1
  sudo umount /mnt/
  #+END_SRC

* X window system
  xbindkey, xmodmap, xev, xdotools, wmctrl
* Date
  date, crontab, sleep, at, atq, atrm
* Sensitive actions
  rm, kill, killall, gparted
* Miscellaneous
  shutdown,
  reboot
  pandoc
  chmod
  sort
  wc
  uniq
  cut  csplit,
  split,
  iconv,
  diff,
  patch,
  man ascii,
  man utf-8,
  fpp (https://github.com/facebook/PathPicker),
  history,
  ffmpeg,
  xargs,
  ;,
  \&\&,
  \&,
  nohup,
  |,
  grip,
  pdflatex,
  pdftk,
  docker,
  source,
  dpkg,
  debootstrap
  >, > >, 2>, 2> >, 2>\&1, <, < <, |,
  uptime,
  tload
